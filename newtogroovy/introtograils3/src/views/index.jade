!!! 5
//if IE 7
  html(lang="en", class="no-js ie", data-ng-app="main", id="ng-app")
//if IE 8
  html(lang="en", class="no-js ie", data-ng-app="main", id="ng-app")
//if IE 9
  html(lang="en", class="no-js ie9", data-ng-app="main", id="ng-app")
//if [(gt IE 9)|!(IE)] <!
html(class="no-js", ng-app="main")
  // <![endif]
  head
    meta(charset="utf-8")
    title Intro to Grails 3
    meta(name="viewport", content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no")
    meta(name="apple-mobile-web-app-capable", content="yes")
    meta(name="apple-mobile-web-app-status-bar-style", content="black-translucent")
    meta(name="description", content="Reveal JS Template")
    link(href="./assets/css/style.css", rel="stylesheet", type="text/css")

  body
    .reveal
      .slides
        section(data-state="index-slide")
          h1 Intro to Grails 3
          p
          small by Jenn Strater <a href="http://twitter.com/codeJENNerator" target="_blank"><img style="border:none;margin-top:0px;box-shadow:none;" src="./assets/img/CompanyAndProductLogos/twitter.png"/>@codeJENNerator</a>
        section(data-state="github-slide", class="github-section")
          h1 <i class="fa fa-icon fa-github"></i>
          p Current
          p
            a(href="https://github.com/gr8workshops/gr8workshops-content/tree/master/newtogroovy/introtograils3",target="_blank") Slides(source)
        section
          h2 About Me
          p Professional
          ul.ul-no-style
            li.
              <img class="inline-img" src='./assets/img/opi-square-logo.png' style='vertical-align:middle;'>
              Senior Consultant - <a href="http://objectpartners.com" target="_blank" style='vertical-align:middle'>Object Partners</a>
            li.
              <img class="inline-img" src='./assets/img/gr8ladies.png' style='vertical-align:middle;'>
              Co-Founder - <a href="http://www.gr8ladies.org" target="_blank" style='vertical-align:middle'>Gr8Ladies</a>
        section
          h2 About Me
          p Experience
          img(src='./assets/img/techbooks.jpg', style="width: 60%;")
          small source: http://tjvantoll.com/2014/12/29/so-you-want-to-write-a-tech-book/
        section
          h2 About Me
          p Minneapolis, MN
          p <img src='./assets/img/minnesota.png' style="border:none;margin-top:-25px;">
          ul.ul-no-style Connect on Social Media
            li <a href="https://twitter.com/codeJENNerator" target="_blank">Twitter</a> @codeJENNerator
            li <a href="https://linkedin.com/in/jennstrater" target="_blank">LinkedIn</a> https://linkedin.com/in/jennstrater
            li <a href="https://github.com/jlstrater" target="_blank">Github</a> https://github.com/jlstrater

        section
          h2 About YOU
          ul
            li Students
            li Professional Developers
            ul
              li Java
              li .NET
              li PHP or Ruby
              li JRuby, Scala, or Clojure
              li Groovy

        section
          h2 Agenda
          ul
            li Intro to Grails
            li Getting Started
            li Concepts
            ul
              li MVC architecture
              ul.ul-no-style
                li Domain Classes
                li Controllers
                li GSPs

        section
          img(src='./assets/img/grails-logo.png', style="border:none;background:none;box-shadow:none;")
          h2 Powerful Groovy-based framework:
          ul
            li.fragment Various Profiles including web, api, and angularjs
            li.fragment Data-layer with GORM
            li.fragment Generated code for quick start-up time
            li.fragment Prolific Plugin Library
        section
          h2 Grails
          p Used by many major companies including:
          ul.ul-inline
            li <img src='./assets/img/CompanyAndProductLogos/netflix.jpg' class='inline-img'/>
            li <img src='./assets/img/CompanyAndProductLogos/linkedin-logo.png' class='inline-img'/>
            li <img src='./assets/img/CompanyAndProductLogos/bestBuy.jpg' class='inline-img'/>
            li <img src='./assets/img/CompanyAndProductLogos/target.png' class='inline-img'/>
            li <img src='./assets/img/CompanyAndProductLogos/wellsfargo.jpg' class='inline-img'/>

        section
          h2 When to use Grails
          ul
            li.fragment Quick Start-up time
            li.fragment Small, agile team and project
            li.fragment Traditional data persistence model
            li.fragment REST APIs
            li.fragment Microservice architecture

        section
          h2 When Not to use Grails
          ul
            li lots of legacy code in another framework
            li Complex high performant systems
            li Non-standard data persistence

        section
          h2 Getting Started

        section
          ul
            li Download Locally
            p <a href="https://grails.org/download.html" target="_blank">https://grails.org/download.html</a>
            li SDK Manager (formerly GVM)
              pre.
                <code>sdk install grails 3.0.17</code>
        section
          h2 Grails command line
          img(src="./assets/img/slide-images/grails-commandline.png")
        section
          h2 Grails console
          img(src='./assets/img/slide-images/groovy-console.png')

        section
          h2 Grails Applications
          img(src='./assets/img/slide-images/grails-applications.png')

        section
          h2 History of Grails
          ul
            li 1.0 in Feb 2008
            li Grails 3.0 in Mar 2015
            li Formerly Sponsored by Pivotal
            li Now with Object Computing (OCI) of St. Louis
        section
          h2 Vertical Slice
          table
            tr
              td javascript
              td - Dynamic behavior in the browser
            tr
              td servlets
              td - HTML page generation
            tr
              td controllers
              td - Application Form Controllers + Tests
            tr
              td command
              td - Display objects + Tests
            tr
              td validation
              td - Validation and constraints + Tests
            tr
              td services
              td - Service Layer + Tests
            tr
              td queries
              td - Data access + Tests
            tr
              td domain
              td - Domain Model + Tests
            tr
              td DDL
              td - Database Schema
        section
          h2 Simplified Grails Application Stack
          img(src='./assets/img/slide-images/simple-grails-stack.png')

        section
          section
            h2 Diving In
          section
            h2 Creating an application
            pre.
              <code>grails create-app questionApp</code>
          section
            h2 Open app folder
            pre.
              <code>cd questionApp</code>
          section
            h2 Project Structure
            img(src='./assets/img/slide-images/grails-folder-structure.png', style='zoom:65%')
          section
            h2 Generating a Domain Class
            pre.
              <code>grails create-domain-class com.example.Question</code>
          section
            h2 Edit the Domain Class
            h4 grails-app/domain/com/example/Question.groovy
            pre.
              <code>package com.example

              class Question {
                String question
                String answer
                String userName

                static constraints = {
                }
              }</code>
          section
            h2 Edit the Generated Test
            h4 src/test/groovy/com/example/QuestionSpec.groovy
            pre.
              <code>import grails.test.mixin.TestFor
              import spock.lang.Specification

              @TestFor(Question)
              class QuestionSpec extends Specification {
                def setup() {
                }

                def cleanup() {
                }

                void "test something"() {
                  expect:"fix me"
                  true == false
                }
              }</code>
        section
          h2 Grails Command Line
          ul.ul-no-style
            li
              code grails clean
            li
              code grails run-app
            li
              code grails test-app
            li
              code grails help
            li
              code grails help 'target-name'
            li
              code grails
              ul.ul-no-style
                li will enter you into the grails 'interactive mode' keeps the jvm running, speeds up grails scripts, and provides autocomplete

        section
          h2 Grails Scaffolding
          pre.
            <code>grails generate-all com.example.Question</code>
          ul.ul-no-style
            li Gernates a set of standard CRUD endpoints
            ul
              li Note the package name
              li include --force to overwrite existing files (if making changes)
        section
          h2 Grails Scaffolding
          p grails-app/controllers/com/example/QuestionController.groovy
          p
          p grails-app/views/question
          ul.ul-no-style
            li create.gsp
            li edit.gsp
            li index.gsp
            li show.gsp

          p src/test/groovy/com/example/QuestionControllerSpec.groovy

        section
          h2 Grails CRUD endpoints
          table
            tr
              td index
              td -Displays list of objects, default for /
            tr
              td show
              td - Shows one object for a given index
            tr
              td create
              td - Displays form to create new object
            tr
              td save
              td - Saves new object
            tr
              td edit
              td - Shows edit form
            tr
              td update
              td - Updates existing object
            tr
              td delete
              td - Deletes one object

        section
          h2 Running the app
          pre.
            <code>grails run-app</code>
          p | Running Grails application
          p | Server running. Browse to http://localhost:8080

        section
          h1 Demo

        section
          h2 Controllers
          pre.
            <code>def index(Integer max) {
              params.max = Math.min(max ?: 10, 100)
              respond Question.list(params), model:[questionCount: Question.count()]
            }</code>
        section
          h2 Auto reloading
          p Add to the QuestionController
          pre.
            <code>def hello() {
              render "I am here!"
            }</code>
          p http://localhost:8080/question/hello
        section
          h2 From the Controller to the View
          ul
            li Grails is convention based
            li For example, when the index action(/question/index) is called Grails looks in the views/question directory for a gsp named index.gsp
        section
          h2 URL Mappings
          h4 grails-app/controllers/UrlMappings.groovy
          pre.
            <code>static mappings = {
              "/$controller/$action?/$id?(.$format)?"{
                constraints {
                // apply constraints here
                }
              }
                                "/"(view:"/index")
              "500"(view:'/error')
            }</code>
        section
          h2 Updating URL Mappings
          pre <code>"/showQuestions" (controller: "question", action: "index")</code>
          p http://localhost:8080/showQuestions

        section
          h2 Restarting the Application
          p Better in recent versions, but still needs to happen occassionally
          pre <code>grails run-app</code>
        section
          h2 Custom Controller Endpoints
          p Go to /question/searchByUsername
        section
          h2 Add the method
          pre.
            <code>def searchByUsername() {
              def questionInstanceList = Question.findAllByUsername('doug')
              respond questionInstanceList, model: [questionInstanceCount: Question.count()]
            }</code>
        section
          h2 Dynamic Finders
          table
            tr
              td In List
              td - in the list of given values
            tr
              td LessThan
              td - less than a given value
            tr
              td LessThanEquals
              td - less than or equal a give value
            tr
              td GreaterThan
              td - greater than a given value
            tr
              td GreaterThanEquals
              td - greater than or equal a given value
            tr
              td Like
              td - equivalent to a SQL like expression
            tr
              td Ilike
              td - case insensitive version of like
            tr
              td NotEqual
              td - negates equality
        section
          h2 Dynamic Finders
          table
            tr
              td InRange
              td - between the values of a Groovy Range
            tr
              td Rlike
              td - performs a Regexp LIKE in MySQL or Oracle otherwise falls back to Like
            tr
              td Between
              td - between two values (requires two arguments)
            tr
              td IsNotNull
              td - not a null value (no arguments)
            tr
              td IsNull
              td - is a null value (no arguments)
        section
          h2 The Grails Console
          pre.
            <code>grails> console</code>
        section
          pre.
            <code>import com.example.Question

            Question q1 = new Question()
            Question q2 = new Question(
              question: 'What?',
              answer: 'Me worry.',
              userName: 'doug'
            )
            q1.save()
            q2.save()
            Question.findAll()</code>
        section
          h2 Conclusions
          ul Grails
            li makes prototyping fast and efficient
            li works well for standard web apps
        section
          h2 Resources
          ul
            li <a href="http://grails.org" target="_blank">grails.org</a>
            li <a href="http://stackoverflow.com/tags/grails/info" target="_blank">StackOverflow</a>
            li <a href="http://slack-signup.grails.org/">Slack</a>
        section
          h3 Questions?
          p <a href="http://twitter.com/codeJENNerator" target="_blank"><img style="border:none;margin:0px;box-shadow:none;" src="./assets/img/CompanyAndProductLogos/twitter.png"/>@codeJENNerator</a>
          p jenn@gr8ladies.org
    script(src="./assets/js/app.js")

    // If the query includes 'print-pdf', use the PDF print sheet
    script(type='text/javascript').
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './assets/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      } else if ( window.location.search.match( /print-paper/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = './assets/css/print/paper.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }

